<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/homepageStyle.css" />
    <title>使用者首頁</title>
  </head>
  <body>
    <div class="header">
      ICD-10編碼查詢平台使用者首頁
      <form action="/logout" method="get">
        <button type="submit" class="logout-btn">登出</button>
      </form>
    </div>

    <div class="search-container">
      <form action="/search" method="post">
        <input
          type="text"
          placeholder="Search..."
          class="search-input"
          name="searchQuery"
          id="searchQuery"
        />
        <button type="submit" class="search-btn">搜尋</button>
      </form>
    </div>

    <div class="results-table">
      <% if (typeof searchResults !== "undefined") { %>

      <table id="resultsTable">
        <thead>
          <tr>
            <th>2023 ICD-10編碼</th>
            <th>2023 疾病英文名稱</th>
            <th>2023 疾病中文名稱</th>
          </tr>
        </thead>

        <tbody>
          <% searchResults.forEach(function(result) { %>

          <tr>
            <td><%= result['2023_ICD-10-CM'] %></td>
            <td><%= result['2023_ICD-10-CM_english_name'] %></td>
            <td><%= result['2023_ICD-10-CM_chinses_name'] %></td>
          </tr>

          <% }); %>
        </tbody>
      </table>

      <% } %>
    </div>

    <div class="results-table">
      <% if (typeof searchResults2014 !== "undefined") { %>

      <table id="resultsTable">
        <thead>
          <tr>
            <th>2014 ICD-10編碼</th>
            <th>2014 疾病或狀況英文名稱</th>
            <th>2014 疾病或狀況中文名稱</th>
          </tr>
        </thead>

        <tbody>
          <% searchResults2014.forEach(function(result) { %>

          <tr>
            <td><%= result['2014_ICD-10-CM'] %></td>
            <td><%= result['2014_ICD-10-CM_english_name'] %></td>
            <td><%= result['2014_ICD-10-CM_chinses_name'] %></td>
          </tr>

          <% }); %>
        </tbody>
      </table>

      <% } %>
    </div>

    <div class="history-table">
      <h3>歷史紀錄</h3>
      <table>
        <thead>
          <tr>
            <th>ICD-10編碼</th>
            <th>疾病或狀況名稱</th>
            <th>疾病中文名稱</th>
          </tr>
        </thead>
        <tbody>
          <!-- 历史记录将被动态填充到这里 -->
        </tbody>
      </table>
    </div>
    <!-- <script src="../Js/app.js"></script> -->
  </body>
</html>
